if exists("b:current_syntax")
  finish
endif

syn keyword restrictedFunctions queue_clear clear_commands import set_projectile_shooter reset_all_pscores set_inventory remove_metadata capture_runas get_ip_bans ponfire get_mob_name get_entity_rider phas_storm has_value get_name_visible get_inventory_size pkill spawn_falling_block lightning get_gamerule debug dump_threads set_max_health set_biome unregister_channel get_metadata pkick psend_sign_text entity_line_of_sight get_mob_equipment get_entity_health get_highest_block_at set_pexp event_meta refresh_chunk execute remove_scoreboard clear_cron reset_display_name email get_projectile_shooter set_block_at regen_chunk close_pinv sys_beep ploc set_art_at comp_read penderchest play_sound set_pvp reset_recipes ptake_item queue_push has_bind pvehicle_leave pexp get_all_recipes set_pscore queue_push_front set_entity_health play_entity_effect get_max_health entity_air set_entity_fall_distance set_tabcompleter queue_delay storm engine_build_date set_pbed_location pspectator_target players_in_radius is_sign_at get_env psaturation reflect_pull get_script_environment res_free_resource get_list_name penchanting pinfo get_events get_compass_target broadcast get_teams show_enderchest pinv_open entity_remove set_projectile_bounce set_entity_air get_functions all_entities enable_performance_logging can_pickup_items entities_in_radius is_slime_chunk entity_velocity location_shift remove_objective dump_events set_pbanned launch_firework get_player_from_entity_id set_pvelocity pget_time set_pflying get_yaw query_async set_compass_target get_world_time entity_exists entity_spec set_itemmeta world_info get_scoreboards x_new_thread give_pexp super_cancel send_resourcepack set_team_options get_mob_effects call_proc make_effect set_penderchest prompt_char set_pflight get_pflyspeed pgive_item pgive_enderchest_item read_binary set_entity_glowing phunger marquee set_metadata x_run_on_main_thread_now all_players set_mob_age set_entity_velocity marquee_stop pbanned set_ip_banned set_armor_color set_display_name unregister_command enchant_inv_unsafe get_entity_glowing fake_incoming_plugin_message get_biome sys_properties set_leashholder scriptas get_mob_owner set_difficulty get_mob_age trace get_pscore set_ptime set_entity_max_air create_scoreboard drop_item play_named_sound get_peffect get_stack_trace chatas plevel add_to_inventory phas_item string_append shutdown_server get_command_block_name set_uncaught_exception_handler set_pfood get_entity_vehicle queue_remove_front print_err save_world entity_max_air print_out colorize plast_played async_read set_spawn set_executor is_entity_living set_world_time set_command_block_name get_inventory_item get_block_info set_entity_gliding create_world set_can_pickup_items spawn_mob ponline read_pipe_input get_recipe_for entity_id pworld remove_team set_entity_spec reflect_docs set_sign_text shell get_equipment_droprates pfood set_pwalkspeed export is_alias queue_remove is_channel_registered get_art_at set_pflyspeed set_mob_equipment set_list_name get_armor_color get_pitch phas_played enchant_inv set_ptexp reflect_value_source explosion get_block_command set_inventory_item consume set_ponfire get_worlds get_spawner_type entity_loc set_objective_display entity_type sys_out cd pfacing chat pworkbench sudo modify_event set_pinv call_proc_array get_entity_max_speed get_sign_text get_entity_breedable has_metadata get_pwalkspeed eval get_entity_age set_phunger add_recipe entity_onfire team_remove_player spawn_entity set_timeout register_command queue_running get_commands set_psaturation take_from_inventory is_locked set_cmdline_prompt set_pwhitelisted set_pspectator_target file_resolve pbed_location shoot_projectile get_itemmeta set_entity_rider entity_can_see ls heap_dump ptarget_space clear_recipes break_block pwhitelisted set_peffect set_spawner_type is_tameable clear_value get_value get_entity_gliding queue_delay_front runas play_note clear_task is_consumed set_env shell_adv set_gamerule set_cron enchant_rm_inv pinv lock tame_mob psend_block_change load_chunk x_get_current_thread cancel trigger read_gzip_binary entity_grounded phas_flight compile_error entity_uuid store_value set_entity_loc pwd read pvehicle pheld_slot damage_entity pcursor get_offline_players get_difficulty pitem_slot get_projectile_bounce x_run_on_main_thread_later set_entity_persistence set_interval get_registered_channels set_equipment_droprates tmsg unload_world set_mob_effect get_entity_persistence unbind prompt_line prompt_pass get_spawn set_name_visible set_thunder team_add_player set_pheld_slot set_pstorm get_enchant_inv get_procedures set_entity_breedable psetop set_block_command preset_time register_channel set_entity_age set_entity_onfire query console material_info get_aliases set_phealth create_objective get_leashholder set_ploc get_inventory_type entity_fall_distance send_plugin_message pisop sys_err unsafe_query ptake_enderchest_item set_pmode file_size ptexp is_leather_armor get_values set_entity_max_speed clear_screen get_pscoreboard get_loaded_chunks pgroup create_team generate_tree set_plevel is_cancelled build_date get_terminal_width http_request set_pscoreboard pmode monitor_redstone res_create_resource raw_pcan_see send_texturepack get_pvp get_objectives set_mob_name unload_chunk is_proc get_block_at set_team_display color save_players raw_set_pvanish get_inventory pfirst_played
syn keyword unrestrictedFunctions player array_reduce array_unique string_position get_whitelisted_players array_insert is_boolean tan neg event_exists is_stringable array_sort_async is_integral nor string_ends_with is_enchantment expr or sha256 assign subtract integer ba_put_long lsprintf get_enchants yml_decode array_contains_ic hmac_sha256 array_sort base64_decode array_rand get_command_block ba_get_bytes sconcat mod ba_set_little_endian is_integer ba_rewind ba_put_byte is_null cos array_some is_string array_map is_numeric substr floor exit array_reverse break concat char_is_uppercase ba_get_byte srand reg_count reg_match array_resize return ba_put_float triml msg include bit_or get_enchant_max extension_info get_light_at xor array_contains has_thunder max_stack_size lshift parse_date json_encode array_set is_block_powered math_const acos atan nequals hmac_md5 http_clear_session_cookies bit_xor in_cmdline_mode array_indexes urshift postinc url_decode array_remove atan2 dowhile split array_implode continue ba_put_char ba_as_array to_lower array_deep_clone to_degrees get_banned_players reg_escape ba_get_string trimr string_starts_with noop has_permission nand data_name bit_not abs md5 ba_put_short to_upper multiply array_remove_values reg_match_all call_alias ba_put_bytes get_chunk_loc get_locales run add yml_encode array_every is_bytearray divide round inc array_size array sprintf array_scontains byte_array lt ba_is_little_endian ceil array_merge array_filter nano_time string_from_bytes is_associative parse_args get_temperature strip_colors replace foreachelse trim boolean die get_cmd extension_exists array_reduce_right max array_push associative_array levenshtein ba_put_double xnor tanh puuid asin get_block_power ba_put_string rand bcrypt range simple_date is_array get_server_info string min reg_replace test_composite_function ini_encode array_last_index enchantment_list is_number array_get has_storm equals_ic function_exists run_cmd unicode_from_char ba_get_long round15 nequals_ic base64_encode to_radians reg_split bit_and gte pow sequals can_enchant_target rshift char_from_unicode logarithm ba_get_int typeof postdec array_index_exists sinh double user rot13 ba_put_int gt sha1 array_keys json_decode is_closure string_get_bytes ref_equals snequals lte url_encode ba_get_short ba_get_char equals length parse_int cosh sqrt and array_index to_radix check_bcrypt ba_get_double sequals_ic not ba_get_float cslice ini_decode forelse is_double dec xml_read sin data_values hmac_sha1 array_normalize array_iterate array_shallow_clone ifelse throw time
syn keyword events world_unload player_interact world_load vehicle_collide entity_enter_portal block_break player_prelogin projectile_hit player_chat player_interact_entity projectile_launch world_save item_pre_enchant entity_death async_player_chat player_login inventory_drag player_spawn block_from_to cmdline_test_event player_fish exp_change player_death vehicle_leave tab_complete_chat book_edited entity_damage_player pressure_plate_activated item_spawn item_drop player_toggle_sprint redstone_changed player_portal_travel player_join server_ping inventory_open tab_complete_command player_leave_bed player_command vehicle_destroy entity_damage block_grow player_consume piston_extend food_level_changed player_move player_kick player_toggle_flight block_ignite weather_change entity_toggle_glide gamemode_change shutdown target_player vehicle_enter block_burn note_play player_teleport item_swap block_dispense entity_interact creature_spawn cmdline_prompt_input plugin_message_received sign_changed item_enchant item_pre_craft piston_retract vehicle_move player_interact_at_entity item_pickup lightning_strike player_quit player_enter_bed entity_change_block inventory_click entity_explode hanging_break player_toggle_sneak world_changed tree_grow inventory_close thunder_change item_held item_despawn block_place
syn keyword colors BLACK DARK_BLUE DARK_GREEN DARK_AQUA DARK_RED DARK_PURPLE GOLD GRAY DARK_GRAY BLUE GREEN AQUA RED LIGHT_PURPLE YELLOW WHITE RANDOM BOLD STRIKETHROUGH UNDERLINE ITALIC PLAIN_WHITE
syn keyword unsymboledkeywords auto notinstanceof for do while switch foreach default bind else catch if closure case proc in finally false instanceof as iclosure null true try
syn keyword classTypes EnchantmentException UntameableMobException IndexOverflowException InsufficientArgumentsException IncludeException ByteBackingArray number ArrayAccess slice PlayerOfflineException closure IllegalArgumentException byte_array ReadOnlyException StackOverflowError mutable_primitive void resource double BindException FormatException iclosure Throwable BadEntityException primitive string SQLException ByteArrayReadOnlyException InsufficientPermissionException NotFoundException LengthException mixed InvalidProcedureException InvalidPluginException array NullPointerException UnageableMobException ScoreboardException PluginInternalException PluginChannelException BadEntityTypeException EventException Error SecurityException IOException ClassType ShellException int Exception CastException boolean RangeException InvalidWorldException
syn match linecomment /#.*/
syn match linecomment /\/\/.*/
syn region blockcomment start=/\/\*/ end=/\*\//
syn region stringlit start=/'/ skip=/\\'/ end=/'/
syn region smartstring start=/"/ skip=/\\"/ end=/"/
	\ contains=ivariable,smartIVariable
syn region smartIVariable start="@{" end="}" contained
syn match ivariable /@[a-zA-Z0-9_]\+/
syn match variable /\$[a-zA-Z0-9_]\+/
syn match finalvar /\$[^a-zA-Z0-9_]/
syn match label /[a-zA-Z_][a-zA-Z0-9_]\+:/

let b:current_syntax = "commandhelper"

highlight restrictedFunctions ctermfg=DarkCyan guifg=#1265A9
highlight unrestrictedFunctions ctermfg=DarkGreen guifg=#B35900
highlight events ctermfg=LightMagenta guifg=#B30059
highlight colors ctermfg=yellow guifg=#5900B3
highlight classTypes ctermfg=LightCyan guifg=LightCyan
highlight unsymboledkeywords ctermfg=LightBlue guifg=LightBlue
highlight linecomment ctermfg=LightGray guifg=LightGray
highlight blockcomment ctermfg=LightGray guifg=LightGray
highlight stringlit ctermfg=3 guifg=orange
highlight smartstring ctermfg=3 guifg=orange
highlight ivariable ctermfg=green guifg=green
highlight smartIVariable ctermfg=green guifg=green
highlight variable ctermfg=LightCyan guifg=LightCyan
highlight finalvar ctermfg=6 guifg=6
highlight label ctermfg=yellow guifg=yellow

